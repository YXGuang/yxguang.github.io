(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{177:function(e,s,t){"use strict";t.r(s);var n=t(0),a=Object(n.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),t("p",[e._v("POM(Project Object Model) 全名为项目对象模型，定义了项目的基本信息，用于描述项目如何构建、声明项目依赖等等。")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._m(4),e._v(" "),t("p",[e._v("其中 groupId、artifactId、version 是必选内容，这三个参数确定了项目的位置坐标，其他参数可选。")]),e._v(" "),e._m(5),e._v(" "),e._m(6),e._m(7),e._v(" "),e._m(8),e._v(" "),t("p",[e._v("用来控制依赖与classpath（编译classpath、测试classpath、运行classpath）的关系，maven的有以下几种依赖范围：")]),e._v(" "),e._m(9),e._v(" "),e._m(10),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),t("p",[e._v("左边为直接依赖，顶部为间接依赖。")]),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),t("p",[e._v("如果在项目中引入多个依赖包，可能造成传递性依赖问题。这时Maven遵循以下两个原则：")]),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),t("p",[e._v("不推荐使用! 某一个项目B实现了多个特性，其中特性一依赖于X，特性二依赖于Y，而且这两个特性是互斥的，用户不可能同时选择这两个特性。如果项目A依赖于项目B，则X、Y对于项目A来说则为可选依赖。")]),e._v(" "),e._m(18),e._v(" "),t("p",[e._v("看下面的例子")]),e._v(" "),e._m(19),e._m(20),e._v(" "),e._m(21),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._m(25),e._v(" "),e._m(26),e._v(" "),t("p",[e._v("Maven仓库分为本地仓库和远程仓库。当引入一个依赖时，首先会在本地仓库进行查找，如果本地仓库不存在，则会访问远程仓库进行查找，同时下载到本地仓库。如果远程仓库也不存在该依赖，则报错。其中远程仓库又可以分为中央仓库、私服和其他仓库。")]),e._v(" "),e._m(27),e._m(28),e._v(" "),e._m(29),e._v(" "),e._m(30),e._m(31),e._v(" "),t("p",[e._v("Maven至少必须配置一个可用的远程仓库，"),t("a",{attrs:{href:"https://repo.maven.apache.org/maven2/",target:"_blank",rel:"noopener noreferrer"}},[e._v("中央仓库"),t("OutboundLink")],1),e._v("就是这样一个默认的远程仓库。默认中央仓库的配置在"),t("code",[e._v("%MAVEN_HOME%\\lib\\maven-model-builder-3.5.0.jar")]),e._v("中：")]),e._v(" "),e._m(32),e._m(33),e._v(" "),e._m(34),e._v(" "),e._m(35),e._v(" "),t("p",[e._v("在某些情况下，默认的中央仓库无法满足项目需求，需要配置额外的远程仓库。这时需要在POM文件中进行仓库配置：")]),e._v(" "),e._m(36),e._m(37),e._v(" "),e._m(38),e._v(" "),e._m(39),e._v(" "),e._m(40),e._m(41),e._v(" "),e._m(42),e._v(" "),t("p",[e._v("有时需要将第三方构建或内部构建部署到远程仓库中，需要对POM文件进行配置：")]),e._v(" "),e._m(43),e._m(44),e._v(" "),e._m(45),e._v(" "),t("p",[e._v("仓库镜像往往比中央仓库提供更快速、稳定的服务。比如"),t("a",{attrs:{href:"http://maven.aliyun.com/nexus/content/groups/public/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里云镜像"),t("OutboundLink")],1),e._v("。配置镜像仓库代替中央仓库，修改"),t("code",[e._v("settings.xml")]),e._v("：")]),e._v(" "),e._m(46),t("p",[e._v("该配置中"),t("code",[e._v("mirrorOf")]),e._v("值为"),t("code",[e._v("central")]),e._v("表示使用镜像仓库代替中央仓库，任何对于中央仓库的请求都会转到该仓库。"),t("code",[e._v("mirrorOf")]),e._v("值为"),t("code",[e._v("*")]),e._v("表示该镜像为所有仓库的镜像。"),t("br"),e._v("\n更多阿里云镜像请参考"),t("a",{attrs:{href:"https://maven.aliyun.com/mvn/view",target:"_blank",rel:"noopener noreferrer"}},[e._v("AliRepo"),t("OutboundLink")],1),t("br"),e._v("\nMaven 支持更高级的镜像配置：")]),e._v(" "),e._m(47),e._v(" "),e._m(48),e._v(" "),t("p",[e._v("Maven 拥有三套独立的生命周期，分别为"),t("code",[e._v("clean")]),e._v("、"),t("code",[e._v("default")]),e._v("、"),t("code",[e._v("site")]),e._v("，每套生命周期相互独立互不干扰。每套生命周期又分为多个阶段(phase)，这些"),t("code",[e._v("phase")]),e._v("是有顺序的，后面的阶段依赖于前面的阶段。详见"),t("a",{attrs:{href:"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference",target:"_blank",rel:"noopener noreferrer"}},[e._v("Maven Lifecycle Reference"),t("OutboundLink")],1)]),e._v(" "),e._m(49),e._v(" "),t("p",[e._v("用于清理项目，包含三个阶段：")]),e._v(" "),e._m(50),e._v(" "),e._m(51),e._v(" "),t("p",[e._v("定义了构建时需要执行的所有步骤，其中包括的主要阶段如下：")]),e._v(" "),e._m(52),e._v(" "),e._m(53),e._v(" "),t("p",[e._v("用于建立和发布项目站点，主要生命周期如下：")]),e._v(" "),e._m(54),e._v(" "),e._m(55),e._v(" "),e._m(56),e._v(" "),e._m(57),e._v(" "),t("p",[e._v("插件往往与生命周期相互绑定，用于完成生命周期中定义的具体任务，插件以独立的构件形式存在。")]),e._v(" "),e._m(58),e._v(" "),e._m(59),e._v(" "),e._m(60),e._v(" "),t("p",[e._v("插件需要与生命周期的各阶段绑定才能正常工作，插件的绑定分为内置绑定和自定义绑定两种，下面分别看看这两种绑定。")]),e._v(" "),e._m(61),e._v(" "),t("p",[e._v("Maven生命周期的各阶段默认绑定了很多插件，当调用生命周期阶段的时候，对应的插件目标就会执行相应的任务。")]),e._v(" "),e._m(62),e._v(" "),e._m(63),e._v(" "),e._m(64),e._v(" "),e._m(65),e._v(" "),e._m(66),e._v(" "),e._m(67),e._v(" "),t("p",[e._v("对于以上的内容仅列出其中部分内置依赖关系，详细内容请参考"),t("a",{attrs:{href:"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings",target:"_blank",rel:"noopener noreferrer"}},[e._v("Maven Built-in Lifecycle Bindings"),t("OutboundLink")],1)]),e._v(" "),e._m(68),e._v(" "),t("p",[e._v("除了内置绑定外，用户还可以将某个插件目标绑定到生命周期的某个阶段。如下：")]),e._v(" "),e._m(69),e._m(70),e._v(" "),t("p",[e._v("很多插件目标在编写时已经定义了默认绑定的阶段，因此可以不用配置"),t("code",[e._v("phase")]),e._v("元素，可以通过"),t("a",{attrs:{href:"https://maven.apache.org/plugins/maven-help-plugin/index.html",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("maven-help-plugin")]),t("OutboundLink")],1),e._v("查看更多信息。")]),e._v(" "),e._m(71),e._v(" "),t("p",[e._v("完成插件与生命周期绑定后，还可以配置插件目标的参数，进一步调整插件目标执行的任务。通常有三种插件配置方式：")]),e._v(" "),e._m(72),e._v(" "),e._m(73),e._m(74),e._v(" "),e._m(75),e._m(76),e._v(" "),e._m(77),e._v(" "),e._m(78),e._v(" "),e._m(79),e._m(80),e._v(" "),e._m(81),e._v(" "),e._m(82),e._v(" "),t("p",[e._v("POM的继承，用于将子模块POM文件中相同的公共配置提取到聚合模块中。")]),e._v(" "),e._m(83),e._v(" "),e._m(84),e._m(85),e._v(" "),e._m(86),e._m(87),e._v(" "),e._m(88),e._v(" "),e._m(89),e._m(90),e._v(" "),e._m(91),e._v(" "),e._m(92),e._v(" "),e._m(93),e._v(" "),e._m(94)])},[function(){var e=this.$createElement,s=this._self._c||e;return s("h1",{attrs:{id:"maven-核心概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maven-核心概念","aria-hidden":"true"}},[this._v("#")]),this._v(" Maven 核心概念")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"pom-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pom-文件","aria-hidden":"true"}},[this._v("#")]),this._v(" POM 文件")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"项目坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目坐标","aria-hidden":"true"}},[this._v("#")]),this._v(" 项目坐标")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" \n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n\n  <modelVersion>4.0.0</modelVersion>\n  <groupId>com.cqeips.springcloud</groupId>\n  <artifactId>springcloud-starter</artifactId>\n\t<version>1.0.0</version>\n  <packaging>jar</packaging>\n\t<name>springcloud-starter</name>\n\t<description>Spring cloud starter</description>\n</project>\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[e._v("xml 定义 XML 文件的版本和编码方式")]),e._v(" "),t("li",[e._v("project pom 文件的根元素，以及命名空间等")]),e._v(" "),t("li",[e._v("modelVersion pom 模型的版本，Maven2 、Maven3 来说，必须为4.0.0")]),e._v(" "),t("li",[e._v("groupId 项目组，通常采用反域名格式，一般不定义到组织级别，应该定义到项目级别，如 "),t("code",[e._v("com.cqeips.springcloud")])]),e._v(" "),t("li",[e._v("artifactId 当前Maven项目组中唯一ID")]),e._v(" "),t("li",[e._v("version 当前版本号")]),e._v(" "),t("li",[e._v("packaging 打包方式，默认为 jar")]),e._v(" "),t("li",[e._v("name 项目名称")]),e._v(" "),t("li",[e._v("description 项目描述")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"项目依赖-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目依赖-dependencies","aria-hidden":"true"}},[this._v("#")]),this._v(" 项目依赖 "),s("code",[this._v("dependencies")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("  <dependencies>\n    <dependency>\n      <groupId>...</groupId>\n      <artifactId>...</artifactId>\n      <version>...</version>\n      <type>...</type>\n      <scope>...</scope>\n      <optional>...</optional>\n      <exclusions>\n        <exclusion>...</exclusion>\n      </exclusions>\n    </dependency>\n  </dependencies>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[e._v("dependencies 该元素描述了项目相关的所有依赖。可以包含一个或多个dependecy。")]),e._v(" "),t("li",[e._v("dependency 单个依赖")]),e._v(" "),t("li",[e._v("type 依赖类型，对应项目坐标定义的packaging。")]),e._v(" "),t("li",[e._v("scope 依赖范围。")]),e._v(" "),t("li",[e._v("optional 依赖是否可选。")]),e._v(" "),t("li",[e._v("exclusions 用于排除传递性依赖")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"依赖范围scope"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖范围scope","aria-hidden":"true"}},[this._v("#")]),this._v(" 依赖范围"),s("code",[this._v("scope")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ol",[t("li",[e._v("complile: 编译依赖范围。默认使用该依赖范围，对于编译、运行、测试三种classpath都有效。如：spring-core。")]),e._v(" "),t("li",[e._v("test: 测试依赖范围。只对于测试classpath有效。如：junit。")]),e._v(" "),t("li",[e._v("provided: 已提供依赖范围。对于编译和测试classpath有效，对于运行时无效。在运行时一般需要容器进行提供，不需要Maven重复引入。如sevlet-api。")]),e._v(" "),t("li",[e._v("runtime: 运行时依赖范围。对于测试和运行classpath有效，对于编译主代码时无效。如JDBC驱动实现。")]),e._v(" "),t("li",[e._v("system: 系统依赖范围。对于编译和测试classpath有效，对于运行时无效。需要通过"),t("code",[e._v("systemPath")]),e._v("显示指定依赖文件的路径。由于此依赖范围不是由Maven仓库解析的，而是与本机文件系统绑定，可能造成构建的不可移植，需谨慎使用。"),t("code",[e._v("systemPath")]),e._v("元素可以引用环境变量，如：")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<dependency>\n  <groupId>javax.sql</groupId>\n  <artifactId>jdbc-stdext</artifactId>\n  <version>2.0</version>\n  <scope>system</scope>\n  <systemPath>${java.home}/lib/rt.jar</systemPath>\n</dependency>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ol",{attrs:{start:"6"}},[s("li",[this._v("import: 导入依赖范围。该依赖不会对三种classpath产生影响。")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"传递性依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传递性依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 传递性依赖")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("所谓传递性依赖指所依赖的包间接产生的依赖。如引入"),s("code",[this._v("spring-core")]),this._v("，会间接引入"),s("code",[this._v("common-logging")]),this._v("包。传递性依赖范围由直接依赖和间接依赖范围共同决定，依赖关系如下表所示：")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("table",[t("thead",[t("tr",[t("th"),e._v(" "),t("th",[e._v("compile")]),e._v(" "),t("th",[e._v("test")]),e._v(" "),t("th",[e._v("provided")]),e._v(" "),t("th",[e._v("runtime")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("compile")]),e._v(" "),t("td",[e._v("compile")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("runtime")])]),e._v(" "),t("tr",[t("td",[e._v("test")]),e._v(" "),t("td",[e._v("test")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("test")])]),e._v(" "),t("tr",[t("td",[e._v("provided")]),e._v(" "),t("td",[e._v("provided")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("provided")]),e._v(" "),t("td",[e._v("provided")])]),e._v(" "),t("tr",[t("td",[e._v("runtime")]),e._v(" "),t("td",[e._v("runtime")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("——")]),e._v(" "),t("td",[e._v("runtime")])])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"依赖调节"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖调节","aria-hidden":"true"}},[this._v("#")]),this._v(" 依赖调节")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ol",[t("li",[e._v("路径最短原则"),t("br"),e._v("\n如有两条依赖路径：\n"),t("ul",[t("li",[e._v("A>B>C>X(1.0)")]),e._v(" "),t("li",[e._v("A>D>X(2.0)\n则X(2.0)优先解析使用。")])])]),e._v(" "),t("li",[e._v("顺序靠前原则"),t("br"),e._v("\n当路径长度相同时，谁靠前引入，谁优先使用。")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"可选依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可选依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 可选依赖")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"排除依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排除依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 排除依赖")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<groupId>xyz.yxguang.mvn.demo</groupId>\n<artifactId>project-a</artifactId>\n<version>1.0.0</version>\n<dependencies>\n  <dependency>\n    <groupId>xyz.yxguang.mvn.demo</groupId>\n    <artifactId>project-b</artifactId>\n    <version>1.0.0</version>\n    <exclusions>\n      <exclusion>\n        <groupId>xyz.yxguang.mvn.demo</groupId>\n        <artifactId>project-c</artifactId>\n      </exclusion>\n    </exclusions>\n  </dependency>\n  <dependency>\n    <groupId>xyz.yxguang.mvn.demo</groupId>\n    <artifactId>project-c</artifactId>\n    <version>1.0.0</version>\n  </dependency>\n</dependencies>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("在项目A中引入项目B依赖，项目B又依赖于项目C，由于某种原因不想引入传递性依赖C，而是显示指定项目C的版本，这时可以使用"),s("code",[this._v("exclusion")]),this._v("排除传递性依赖C。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("A-------\x3eB------\x3eC(被排除)\n|-------\x3eC(显示指定版本)\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"归类依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#归类依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 归类依赖")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("在引入依赖库时，我们可以将依赖的版本单独提取出来，进行统一管理，方面后续修改或升级。这是就需要使用"),s("code",[this._v("properties")]),this._v("元素。如：")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<properties>\n  <springframework.version>2.5.6</springframework.version>\n</properties>\n<dependencies>\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-core</artifactId>\n    <version>${springframework.version}</version>\n  </dependency>\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-beans</artifactId>\n    <version>${springframework.version}</version>\n  </dependency>\n</dependencies>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"maven-仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maven-仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" Maven 仓库")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"仓库的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#仓库的分类","aria-hidden":"true"}},[this._v("#")]),this._v(" 仓库的分类")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("                Maven仓库\n                   |\n      -----------------------------\n      |                           |\n  本地仓库                      远程仓库\n                                  |\n                 -------------------------------------\n                 |                |                  |\n             中央仓库             私服             其他仓库\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"本地仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" 本地仓库")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("默认情况下，Maven 默认仓库地址为"),s("code",[this._v("~/.m2/repository")]),this._v("，如果用户希望自定义本地仓库地址，可以通过修改"),s("code",[this._v("~/.m2/settings.xml")]),this._v("进行设置，修改"),s("code",[this._v("localRepository")]),this._v("元素为希望的地址：")])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("<settings>\n  <localRepository>D:\\java\\repository\\</localRepositry>\n</settings>\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"中央仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#中央仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" 中央仓库")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<repositories>\n <repository>\n    <id>central</id>\n    <name>Central Repository</name>\n    <url>https://repo.maven.apache.org/maven2</url>\n    <layout>default</layout>\n    <snapshots>\n      <enabled>false</enabled>\n    </snapshots>\n  </repository>   \n</repositories>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"私服"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#私服","aria-hidden":"true"}},[this._v("#")]),this._v(" 私服")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("详见"),s("a",{attrs:{href:"#"}},[this._v("搭建Maven私服")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"配置远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置远程仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置远程仓库")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<repositories>\n  <repository>\n    <id>...</id>\n    <name>...</name>\n    <url>...</url>\n    <release>\n      <enable>true</enable>\n      <updatePolicy>daily|never|always|interval:X</updatePolicy>\n      <checkSumPolicy>...</checkSumPolicy>\n    </release>\n    <snapshots>\n      <enable>false</enable>\n    </snapshots>\n    <layout>default</layout>\n  </repository>\n</repositories>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[e._v("id 仓库的唯一ID，相同的ID，仓库的配置会被覆盖")]),e._v(" "),t("li",[e._v("name 仓库名称")]),e._v(" "),t("li",[e._v("url 仓库地址")]),e._v(" "),t("li",[e._v("release 发布版本，enable为true表示开启发布版本下载")]),e._v(" "),t("li",[e._v("snapshot 快照版本，enable为true表示开启快照版本下载")]),e._v(" "),t("li",[e._v("layout 仓库布局，默认为Maven2或Maven3布局")]),e._v(" "),t("li",[e._v("updatePolicy 更新策略，daily每天更新；never从不更新；always每次构建都检查更新；interval:X 每X分钟检查更新")]),e._v(" "),t("li",[e._v("checkSumPolicy 检查校验和文件策略，warn/fail/ignore")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"远程仓库认证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库认证","aria-hidden":"true"}},[this._v("#")]),this._v(" 远程仓库认证")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("有时为了安全方面考虑需要限制远程仓库的访问权限，需要对远程仓库配置认证信息。认证信息配置在"),s("code",[this._v("setting.xml")]),this._v("中：")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<settings>\n  ...\n  <servers>\n    <id>...</id>\n    <username>...</username>\n    <password>...</password>\n  </servers>\n</settings>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[s("code",[this._v("setting.xml")]),this._v(" 中"),s("code",[this._v("server")]),this._v("元素id 必须和 POM 文件中需要认证的"),s("code",[this._v("repository")]),this._v("保持一致。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"部署至远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署至远程仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" 部署至远程仓库")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("    <distributionManagement> \n        <repository> \n            <uniqueVersion /> \n            <id> banseon-maven2 </id> \n            <name> banseon maven2 </name> \n            <url> file://${basedir}/target/deploy </url> \n            <layout></layout> \n        </repository> \n        <snapshotRepository> \n            <uniqueVersion /> \n            <id> banseon-maven2 </id> \n            <name> Banseon-maven2 Snapshot Repository </name> \n            <url> scp://svn.baidu.com/banseon:/usr/local/maven-snapshot </url> \n            <layout></layout>\n        </snapshotRepository> \n    </distributionManagement> \n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("配置正确后在命令行运行"),s("code",[this._v("mvn clean deploy")]),this._v("进行部署。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"配置仓库镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置仓库镜像","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置仓库镜像")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<settings>\n  <mirrors>\n    <mirror>\n      <id>aliyunmaven</id>\n      <mirrorOf>central</mirrorOf>\n      <name>阿里云公共仓库</name>\n      <url>https://maven.aliyun.com/repository/public</url>\n    </mirror> \n  </mirrors>\n</settings>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("code",[e._v("<mirrorOf>*</mirrorOf>")]),e._v(" 匹配所有远程仓库")]),e._v(" "),t("li",[t("code",[e._v("<mirrorOf>external:*</mirrorOf>")]),e._v(" 匹配所有远程仓库。使用"),t("code",[e._v("localhost")]),e._v("、"),t("code",[e._v("file://")]),e._v(" 协议除外。匹配所有非本机远程仓库。")]),e._v(" "),t("li",[t("code",[e._v("<mirrorOf>repo1、repo2</mirrorOf>")]),e._v(" 匹配repo1和repo2，多个仓库使用"),t("code",[e._v(",")]),e._v("分割")]),e._v(" "),t("li",[t("code",[e._v("<mirrorOf>*,!repo1</mirrorOf>")]),e._v(" 匹配所有远程仓库，repo1除外。")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" 生命周期")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"clean生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clean生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("clean")]),this._v("生命周期")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ol",[t("li",[t("code",[e._v("pre-clean")]),e._v(" 执行清理前需要完成的工作")]),e._v(" "),t("li",[t("code",[e._v("clean")]),e._v(" 清理上次构建生成的文件")]),e._v(" "),t("li",[t("code",[e._v("post-clean")]),e._v(" 执行清理后需要完成的工作")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"default-生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#default-生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("default")]),this._v(" 生命周期")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("code",[e._v("validate")])]),e._v(" "),t("li",[t("code",[e._v("initialize")])]),e._v(" "),t("li",[t("code",[e._v("generate-sources")])]),e._v(" "),t("li",[t("code",[e._v("process-sources")]),e._v(" 处理项目主资源文件。一般来说指将"),t("code",[e._v("src/main/resources")]),e._v("目录内的内容进行变量替换等工作后，复制到项目输出的主"),t("code",[e._v("classpath")]),e._v("目录中。")]),e._v(" "),t("li",[t("code",[e._v("generate-resources")])]),e._v(" "),t("li",[t("code",[e._v("process-resources")])]),e._v(" "),t("li",[t("code",[e._v("compile")]),e._v(" 编译项目的主源码。一般来说，是编译"),t("code",[e._v("src/main/java")]),e._v("目录下的Java文件至项目输出的主"),t("code",[e._v("classpath")]),e._v("目录中。")]),e._v(" "),t("li",[t("code",[e._v("process-classes")]),e._v(" 处理项目测试资源文件。一般来说，是对"),t("code",[e._v("src/main/resources")]),e._v("目录内容进行变量替换等工作后，复制到项目输出的测试"),t("code",[e._v("classpath")]),e._v("目录中。")]),e._v(" "),t("li",[t("code",[e._v("generate-test-sources")])]),e._v(" "),t("li",[t("code",[e._v("process-test-sources")])]),e._v(" "),t("li",[t("code",[e._v("generate-test-resources")])]),e._v(" "),t("li",[t("code",[e._v("process-test-resources")])]),e._v(" "),t("li",[t("code",[e._v("test-compile")]),e._v(" 编译项目的测试代码。一般来说，是编译"),t("code",[e._v("src/test/java")]),e._v("目录下的Java文件至项目输出的测试"),t("code",[e._v("classpath")]),e._v("目录中。")]),e._v(" "),t("li",[t("code",[e._v("process-test-classes")])]),e._v(" "),t("li",[t("code",[e._v("test")]),e._v(" 使用单元测试框架运行测试，测试代码不会被打包或部署。")]),e._v(" "),t("li",[t("code",[e._v("prepare-package")])]),e._v(" "),t("li",[t("code",[e._v("package")]),e._v(" 接受编译好的代码，打包成可发布的格式，如JAR。")]),e._v(" "),t("li",[t("code",[e._v("pre-integration-test")])]),e._v(" "),t("li",[t("code",[e._v("integration-test")])]),e._v(" "),t("li",[t("code",[e._v("post-integration-test")])]),e._v(" "),t("li",[t("code",[e._v("verify")])]),e._v(" "),t("li",[t("code",[e._v("install")]),e._v(" 将包安装到Maven本地仓库，供本地其他Maven项目使用。")]),e._v(" "),t("li",[t("code",[e._v("deploy")]),e._v(" 将最终的包部署到远程仓库，供其他开发人员和Maven项目使用。")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"site生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#site生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("site")]),this._v("生命周期")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("code",[e._v("pre-site")]),e._v(" 执行一些在项目站点之前需要完成的工作。")]),e._v(" "),t("li",[t("code",[e._v("site")]),e._v(" 生成项目站点文档。")]),e._v(" "),t("li",[t("code",[e._v("post-site")]),e._v(" 执行一些在生成项目站点之后需要完成的工作。")]),e._v(" "),t("li",[t("code",[e._v("site-deploy")]),e._v(" 将生成的项目站点发布到服务器。")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"命令行与生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行与生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" 命令行与生命周期")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("code",[e._v("mvn clean")]),e._v(" 调用 "),t("code",[e._v("clean")]),e._v(" 生命周期的"),t("code",[e._v("clean")]),e._v("阶段。")]),e._v(" "),t("li",[t("code",[e._v("mvn test")]),e._v(" 调用 "),t("code",[e._v("default")]),e._v(" 生命周期的"),t("code",[e._v("test")]),e._v("阶段。实际执行会从"),t("code",[e._v("validate")]),e._v("阶段一直执行到"),t("code",[e._v("test")]),e._v("阶段。")]),e._v(" "),t("li",[t("code",[e._v("mvn clean install")]),e._v(" 调用"),t("code",[e._v("clean")]),e._v(" 生命周期"),t("code",[e._v("clean")]),e._v("阶段和"),t("code",[e._v("default")]),e._v("生命周期"),t("code",[e._v("install")]),e._v("阶段。")]),e._v(" "),t("li",[t("code",[e._v("mvn clean deploy site-deploy")]),e._v(" 调用"),t("code",[e._v("clean")]),e._v("生命周期"),t("code",[e._v("clean")]),e._v("阶段，"),t("code",[e._v("default")]),e._v("生命周期"),t("code",[e._v("deploy")]),e._v("阶段，"),t("code",[e._v("site")]),e._v("生命周期"),t("code",[e._v("site-deploy")]),e._v("阶段")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件","aria-hidden":"true"}},[this._v("#")]),this._v(" 插件")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"插件目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件目标","aria-hidden":"true"}},[this._v("#")]),this._v(" 插件目标")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",[e._v("对于一个插件而言，往往拥有很多个功能，这些功能能够完成多个任务。如"),t("code",[e._v("maven-dependency-plugin")]),e._v("，能够分析依赖、列出项目依赖树、列出项目所有已解析的依赖等等。这些功能同时聚合在一个插件中，每个功能就是一个插件目标。上述几个功能对应的插件目标为："),t("code",[e._v("dependency:analyze")]),e._v("、"),t("code",[e._v("dependency:tree")]),e._v("、"),t("code",[e._v("dependency:list")]),e._v("，这种通用写法格式为：(插件前缀):(插件目标)。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"插件绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件绑定","aria-hidden":"true"}},[this._v("#")]),this._v(" 插件绑定")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h4",{attrs:{id:"内置绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内置绑定","aria-hidden":"true"}},[this._v("#")]),this._v(" 内置绑定")])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[s("code",[this._v("clean")]),this._v("生命周期内置绑定")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("table",[t("tr",[t("th",[e._v("生命周期")]),e._v(" "),t("th",[e._v("插件目标")])]),e._v(" "),t("tr",[t("td",[e._v("pre-clean")]),e._v(" "),t("td",{attrs:{rowspan:"3"}},[e._v("maven-clean-plugin:clean")])]),e._v(" "),t("tr",[t("td",[e._v("clean")])]),e._v(" "),t("tr",[t("td",[e._v("post-clean")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[s("code",[this._v("site")]),this._v("生命周期内置绑定")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("table",[t("tr",[t("th",[e._v("生命周期")]),e._v(" "),t("th",[e._v("插件目标")])]),e._v(" "),t("tr",[t("td",[e._v("pre-site")]),e._v(" "),t("td",{attrs:{rowspan:"3"}},[e._v("maven-site-plugin:site")])]),e._v(" "),t("tr",[t("td",[e._v("site")])]),e._v(" "),t("tr",[t("td",[e._v("post-site")])]),e._v(" "),t("tr",[t("td",[e._v("site-deploy")]),e._v(" "),t("td",[e._v("maven-site-plugin:deploy")])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("code",[e._v("default")]),e._v(" 生命周期内置绑定\n"),t("code",[e._v("default")]),e._v(" 生命周期的内置绑定相对于"),t("code",[e._v("clean")]),e._v("、"),t("code",[e._v("site")]),e._v("来说比较复杂。项目的打包类型会影响构建的过程，因此，"),t("code",[e._v("default")]),e._v("生命周期的阶段与插件目标的绑定关系由项目打包类型所决定。最常见的为"),t("code",[e._v("jar")]),e._v("打包类型，内置插件绑定关系如下：")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("table",[t("tr",[t("th",[e._v("生命周期")]),e._v(" "),t("th",[e._v("插件目标")])]),e._v(" "),t("tr",[t("td",[e._v("process-resources")]),e._v(" "),t("td",[e._v("maven-resources-plugin:resources")])]),e._v(" "),t("tr",[t("td",[e._v("compile")]),e._v(" "),t("td",[e._v("maven-compiler-plugin:compile")])]),e._v(" "),t("tr",[t("td",[e._v("process-test-resources")]),e._v(" "),t("td",[e._v("maven-resources-plugin:test-resources")])]),e._v(" "),t("tr",[t("td",[e._v("test-compile")]),e._v(" "),t("td",[e._v("maven-compiler-plugin:test-compile")])]),e._v(" "),t("tr",[t("td",[e._v("test")]),e._v(" "),t("td",[e._v("maven-surefire-plugin:test")])]),e._v(" "),t("tr",[t("td",[e._v("package")]),e._v(" "),t("td",[e._v("maven-jar-plugin:jar")])]),e._v(" "),t("tr",[t("td",[e._v("install")]),e._v(" "),t("td",[e._v("maven-install-plugin:install")])]),e._v(" "),t("tr",[t("td",[e._v("deploy")]),e._v(" "),t("td",[e._v("maven-deploy-plugin:deploy")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h4",{attrs:{id:"自定义绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义绑定","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义绑定")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<build>\n  <plugins>\n    <plugin>\n      <groupId>org.apache.maven.plugins</groupId>\n      <artifactId>maven-source-plugin</artifactId>\n      <version>2.1.1</version>\n      <executions>\n        <execution>\n          <id>attach-sources</id>\n          <pahse>verify</pahse>\n          <goals>\n            <goal>jar-no-fork</goal>\n          </goals>\n        </execution>\n      </executions>\n    </plugin>\n  </plugins>\n</build>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("code",[e._v("executions")]),e._v(" 配置多个执行任务")]),e._v(" "),t("li",[t("code",[e._v("execution")]),e._v(" 配置单个执行任务")]),e._v(" "),t("li",[t("code",[e._v("id")]),e._v(" 任务ID")]),e._v(" "),t("li",[t("code",[e._v("phase")]),e._v(" 配置生命周期阶段，将任务与阶段进行绑定")]),e._v(" "),t("li",[t("code",[e._v("goals")]),e._v(" 指定要执行的插件目标")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"插件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 插件配置")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[e._v("命令行插件参数配置\n我们可以在命令行中使用"),t("code",[e._v("-D")]),e._v(" 携带参数信息来配置插件目标参数，如："),t("code",[e._v("mvn install -Dmaven.test.skip=true")]),e._v(" ,"),t("code",[e._v("maven-surefire-plugin")]),e._v(" 中提供了一个"),t("code",[e._v("maven.test.skip")]),e._v("参数，当值为"),t("code",[e._v("true")]),e._v(" 的时候，就会跳过测试。")]),e._v(" "),t("li",[e._v("POM中插件全局配置\n在声明插件的时候，对插件进行全局配置，此插件的所有目标任务都会使用这些配置。如：")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<build>\n  <plugins>\n    <plugin>\n      <groupId>org.apache.maven.plugins</groupId>\n      <artifactId>maven-compiler-plugin</artifactId>\n      <version>2.1.2</version>\n      <configuration>\n        <source>1.8</source>\n        <target>1.8</target>\n      </configuration>\n    </plugin>\n  </plugins>\n</build>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[this._v("POM中插件任务配置\n除了进行全局配置，用户可以为某个特定插件任务配置参数。如：")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<build>\n  <plugins>\n    <plugin>\n      <groupId>org.apache.maven.plugins</groupId>\n      <artifactId>maven-antrun-plugin</artifactId>\n      <version>1.3</version>\n      <excutions>\n        <excution>\n          <id>ant-validate</id>\n          <phase>validate</phase>\n          <goals>\n            <goal>run<goal>\n          </goals>\n          <configuration>\n            <tasks>\n              <echo>I'm bound to validate phase.</echo>\n            </tasks>\n          </configuration>\n        </excution>\n      </excutions>\n    </plugin>\n  </plugins>\n</build>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br"),t("span",{staticClass:"line-number"},[e._v("22")]),t("br"),t("span",{staticClass:"line-number"},[e._v("23")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"聚合与继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#聚合与继承","aria-hidden":"true"}},[this._v("#")]),this._v(" 聚合与继承")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"聚合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#聚合","aria-hidden":"true"}},[this._v("#")]),this._v(" 聚合")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("在多模块下，Maven可以通过聚合模块的方式实现多模块的构建、打包等工作。聚合模块的POM文件中"),s("code",[this._v("packaging")]),this._v("值必须为"),s("code",[this._v("pom")]),this._v("，否则无法完成构建。通常聚合模块的POM文件格式如下：")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("...\n<groupId>...</groupId>\n<artifactId>...</artifactId>\n<version>...</version>\n<packaging>pom</packaging>\n<name>...</name>\n<modules>\n  <module>module-a</moudule>\n  <module>module-b</module>\n</modules>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[this._v("modules 用于引入多模块配置")]),this._v(" "),s("li",[this._v("module 子模块POM文件的相对目录")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("通常，模块所在的目录名称应当与其artifactId一致，如果用户将module-a项目放到a-module目录下，这时聚合模块的配置就要相应改成"),s("code",[this._v("<module>a-module</module>")]),this._v("。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#继承","aria-hidden":"true"}},[this._v("#")]),this._v(" 继承")])},function(){var e=this.$createElement,s=this._self._c||e;return s("ol",[s("li",[this._v("首先提取出公共或重复配置到父模块系统中，如下：")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("<groupId>xyz.yxguang.mvn.demo</groupId>\n<artifactId>module-parent</artifactId>\n<version>1.0.0</version>\n<packaging>pom</packaging>\n<name>Module Parent</name>\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br"),s("span",{staticClass:"line-number"},[this._v("4")]),s("br"),s("span",{staticClass:"line-number"},[this._v("5")]),s("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("配置子模块继承父模块，如下：")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<parent>\n  <groupId>xyz.yxguang.mvn.demo</groupId>\n  <artifactId>module-parent</artifactId>\n  <version>1.0.0</version>\n  <relativePath></relativePath>\n</parent>\n<artifactId>module-a</artifactId>\n<name>module-a</name>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ul",[s("li",[this._v("relativePath 表示父元素POM文件的相对路径")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("聚合模块，如下")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("<modules>\n  <module>module-a</module>\n  <module>module-b</module>\n</modules>\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br"),s("span",{staticClass:"line-number"},[this._v("4")]),s("br")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"可继承的pom元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可继承的pom元素","aria-hidden":"true"}},[this._v("#")]),this._v(" 可继承的POM元素")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[e._v("groupId")]),e._v(" "),t("li",[e._v("version")]),e._v(" "),t("li",[e._v("description")]),e._v(" "),t("li",[e._v("orgnaization")]),e._v(" "),t("li",[e._v("inceptionYear")]),e._v(" "),t("li",[e._v("url")]),e._v(" "),t("li",[e._v("developers")]),e._v(" "),t("li",[e._v("contributors")]),e._v(" "),t("li",[e._v("distributionManagement")]),e._v(" "),t("li",[e._v("issueManagement")]),e._v(" "),t("li",[e._v("ciManagement")]),e._v(" "),t("li",[e._v("scm")]),e._v(" "),t("li",[e._v("mailingLists")]),e._v(" "),t("li",[e._v("properties")]),e._v(" "),t("li",[e._v("dependencies")]),e._v(" "),t("li",[e._v("dependencyManagement")]),e._v(" "),t("li",[e._v("repositories")]),e._v(" "),t("li",[e._v("build")]),e._v(" "),t("li",[e._v("reporting")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"依赖管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖管理","aria-hidden":"true"}},[this._v("#")]),this._v(" 依赖管理")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h3",{attrs:{id:"dependenceis-与-dependencymanagement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dependenceis-与-dependencymanagement","aria-hidden":"true"}},[this._v("#")]),this._v(" dependenceis 与 dependencyManagement")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("p",[e._v("dependencies"),t("br"),e._v("\n支持依赖继承，如果子模块继承父模块，则子模块继承父模块所有"),t("code",[e._v("dependencies")]),e._v("依赖。如："),t("br"),e._v("\nmodule-parent 有四个依赖 dependency-1、dependency-2、dependency-3、dependency-4，如果module-a 继承module-parent 则，module-a 同时也会继承上述四个依赖。"),t("br"),e._v("\n上述做法可行，但存在问题。如果现在有一个新模块module-b需要继承module-parent，但是仅需要继承dependency-1 依赖，那么使用"),t("code",[e._v("dependencies")]),e._v(" 无法满足我们的要求。")])]),e._v(" "),t("li",[t("p",[e._v("dependencyManagement\n"),t("code",[e._v("dependencyManagement")]),e._v("能够让子模块继承到父模块的依赖配置，又能保证子模块依赖使用的灵活性。"),t("code",[e._v("dependencyManagement")]),e._v("元素下的依赖声明不会引入实际的依赖，但是它能够管理子模块的依赖。")])])])}],!1,null,null,null);s.default=a.exports}}]);